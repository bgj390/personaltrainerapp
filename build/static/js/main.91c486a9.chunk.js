(this.webpackJsonppersonaltrainer=this.webpackJsonppersonaltrainer||[]).push([[0],{108:function(e,t,n){},109:function(e,t,n){},122:function(e,t,n){"use strict";n.r(t);var a=n(5),r=n(0),c=n.n(r),i=n(8),o=n.n(i),s=(n(108),n(14)),l=(n(109),n(55)),u=n(27),d=n.n(u),j=n(158),h=n(173);n(78),n(79);var m=function(){var e=Object(r.useState)([]),t=Object(s.a)(e,2),n=t[0],c=t[1],i=Object(r.useState)(!1),o=Object(s.a)(i,2),u=o[0],m=o[1],f=Object(r.useState)(""),b=Object(s.a)(f,2),O=b[0],g=b[1],p=Object(r.useState)(""),v=Object(s.a)(p,2),x=v[0],C=v[1],y=Object(r.useRef)();Object(r.useEffect)((function(){w()}),[]);var w=function(){fetch("https://customerrest.herokuapp.com/gettrainings").then((function(e){return e.json()})).then((function(e){return c(e)})).catch((function(e){return console.error(e)}))},S=new Date,k=d()(S).toISOString(),N=[{headerName:"Id",field:"id",sortable:"true"},{headerName:"First name",field:"customer.firstname",sortable:!0,filter:!0},{headerName:"Last name",field:"customer.lastname",sortable:!0,filter:!0},{headerName:"Date",field:"date",sortable:!0,filter:!0,valueFormatter:function(e){return d()(e.value).format("DD.MM.YYYY")},cellStyle:function(e){return d()(e.value).isSameOrBefore(k,"day")?{color:"white",backgroundColor:"red"}:{color:"black",backgroundColor:"lime"}}},{headerName:"Duration (min)",field:"duration",sortable:!0,filter:!0},{headerName:"Activity",field:"activity",sortable:!0,filter:!0},{headerName:"",field:"data",width:90,cellRendererFramework:function(e){return Object(a.jsx)(j.a,{color:"secondary",size:"small",onClick:function(){return t=e.data,C(x),void(window.confirm("You really want to delete?")&&fetch("https://customerrest.herokuapp.com/api/trainings/"+t.id,{method:"DELETE"}).then((function(e){return y.current.refreshCells({rowNodes:w()})})).then((function(e){return g("Deleted!!!")})).then((function(e){return m(!0)})).catch((function(e){return console.error(e)})));var t},children:"Delete"})}}];return Object(a.jsx)("div",{children:Object(a.jsxs)("div",{className:"ag-theme-material",style:{height:"700px",width:"90%",margin:"auto"},children:[Object(a.jsx)(l.AgGridReact,{ref:y,suppressCellSelection:!0,onGridReady:function(e){y.current=e.api},columnDefs:N,rowData:n,pagination:!0,paginationPageSize:10,animateRows:!0}),Object(a.jsx)(h.a,{open:u,autoHideDuration:3e3,onClose:function(){m(!1)},message:O})]})})},f=n(34),b=n(23),O=n(169),g=n(174),p=n(165),v=n(163),x=n(162);var C=function(e){var t=Object(r.useState)({}),n=Object(s.a)(t,2),c=n[0],i=n[1],o=Object(r.useState)(!1),l=Object(s.a)(o,2),u=l[0],d=l[1],h=function(){d(!1)},m=function(e){i(Object(b.a)(Object(b.a)({},c),{},Object(f.a)({},e.target.name,e.target.value)))};return Object(a.jsxs)("div",{children:[Object(a.jsx)(j.a,{variant:"outlined",color:"primary",onClick:function(){d(!0)},children:"Add customer"}),Object(a.jsxs)(g.a,{open:u,onClose:h,"aria-labelledby":"form-dialog-title",children:[Object(a.jsx)(x.a,{id:"form-dialog-title",children:"New customer"}),Object(a.jsxs)(v.a,{children:[Object(a.jsx)(O.a,{margin:"dense",name:"firstname",value:c.firstname,onChange:m,label:"First name",fullWidth:!0}),Object(a.jsx)(O.a,{margin:"dense",name:"lastname",value:c.lastname,onChange:m,label:"Last name",fullWidth:!0}),Object(a.jsx)(O.a,{margin:"dense",name:"streetaddress",value:c.streetaddress,onChange:m,label:"Street address",fullWidth:!0}),Object(a.jsx)(O.a,{margin:"dense",name:"postcode",value:c.postcode,onChange:m,label:"Post code",fullWidth:!0}),Object(a.jsx)(O.a,{margin:"dense",name:"city",value:c.city,onChange:m,label:"City",fullWidth:!0}),Object(a.jsx)(O.a,{margin:"dense",name:"email",value:c.email,onChange:m,label:"email",fullWidth:!0}),Object(a.jsx)(O.a,{margin:"dense",name:"phone",value:c.phone,onChange:m,label:"Phone",fullWidth:!0})]}),Object(a.jsxs)(p.a,{children:[Object(a.jsx)(j.a,{onClick:h,color:"primary",children:"Cancel"}),Object(a.jsx)(j.a,{onClick:function(){e.addCustomer(c),h()},color:"primary",children:"Save"})]})]})]})};var y=function(e){var t=Object(r.useState)({firstname:"",lastname:"",streetaddress:"",postcode:"",city:"",email:"",phone:""}),n=Object(s.a)(t,2),c=n[0],i=n[1],o=Object(r.useState)(!1),l=Object(s.a)(o,2),u=l[0],d=l[1],h=function(){d(!1)},m=function(e){i(Object(b.a)(Object(b.a)({},c),{},Object(f.a)({},e.target.name,e.target.value)))};return Object(a.jsxs)("div",{children:[Object(a.jsx)(j.a,{color:"primary",onClick:function(){i({firstname:e.customer.firstname,lastname:e.customer.lastname,streetaddress:e.customer.streetaddress,postcode:e.customer.postcode,city:e.customer.city,email:e.customer.email,phone:e.customer.phone}),d(!0)},children:"Edit"}),Object(a.jsxs)(g.a,{open:u,onClose:h,"aria-labelledby":"form-dialog-title",children:[Object(a.jsx)(x.a,{id:"form-dialog-title",children:"Edit customer"}),Object(a.jsxs)(v.a,{children:[Object(a.jsx)(O.a,{margin:"dense",name:"firstname",value:c.firstname,onChange:m,label:"First name",fullWidth:!0}),Object(a.jsx)(O.a,{margin:"dense",name:"lastname",value:c.lastname,onChange:m,label:"Last name",fullWidth:!0}),Object(a.jsx)(O.a,{margin:"dense",name:"streetaddress",value:c.streetaddress,onChange:m,label:"Street address",fullWidth:!0}),Object(a.jsx)(O.a,{margin:"dense",name:"postcode",value:c.postcode,onChange:m,label:"Post code",fullWidth:!0}),Object(a.jsx)(O.a,{margin:"dense",name:"city",value:c.city,onChange:m,label:"City",fullWidth:!0}),Object(a.jsx)(O.a,{margin:"dense",name:"email",value:c.email,onChange:m,label:"email",fullWidth:!0}),Object(a.jsx)(O.a,{margin:"dense",name:"phone",value:c.phone,onChange:m,label:"Phone",fullWidth:!0})]}),Object(a.jsxs)(p.a,{children:[Object(a.jsx)(j.a,{onClick:h,color:"primary",children:"Cancel"}),Object(a.jsx)(j.a,{onClick:function(){e.updateCustomer(e.customer,c),h()},color:"primary",children:"Save"})]})]})]})},w=n(87),S=n(21),k=n(171);var N=function(e){var t=Object(r.useState)({customer:"",date:"",duration:"",activity:""}),n=Object(s.a)(t,2),c=n[0],i=n[1],o=Object(r.useState)(!1),l=Object(s.a)(o,2),u=l[0],h=l[1],m=function(){h(!1)},C=function(e){i(Object(b.a)(Object(b.a)({},c),{},Object(f.a)({},e.target.name,e.target.value)))};return Object(a.jsxs)("div",{children:[Object(a.jsx)(j.a,{variant:"outlined",color:"primary",onClick:function(){console.log(e.training),h(!0)},children:"Add training"}),Object(a.jsxs)(g.a,{open:u,onClose:m,"aria-labelledby":"form-dialog-title",children:[Object(a.jsx)(x.a,{id:"form-dialog-title",children:"New training"}),Object(a.jsx)(v.a,{children:Object(a.jsxs)(S.a,{utils:w.a,children:[Object(a.jsx)(k.a,{format:"dd.MM.yyyy",value:c.date,onChange:function(e){i(Object(b.a)(Object(b.a)({},c),{},{date:d()(e).toISOString()}))}}),Object(a.jsx)(O.a,{margin:"dense",name:"duration",value:c.duration,onChange:C,label:"Duration (min)",fullWidth:!0}),Object(a.jsx)(O.a,{margin:"dense",name:"activity",value:c.activity,onChange:C,label:"Activity",fullWidth:!0})]})}),Object(a.jsxs)(p.a,{children:[Object(a.jsx)(j.a,{onClick:m,color:"primary",children:"Cancel"}),Object(a.jsx)(j.a,{onClick:function(){e.addTraining(Object(b.a)(Object(b.a)({},c),{},{customer:e.training.links[0].href})),m()},color:"primary",children:"Save"})]})]})]})};var D=function(){var e=Object(r.useState)([]),t=Object(s.a)(e,2),n=t[0],c=t[1],i=Object(r.useState)([]),o=Object(s.a)(i,2),u=(o[0],o[1]),d=Object(r.useState)(!1),m=Object(s.a)(d,2),f=m[0],b=m[1],O=Object(r.useState)(""),g=Object(s.a)(O,2),p=g[0],v=g[1],x=Object(r.useRef)();Object(r.useEffect)((function(){w()}),[]);var w=function(){fetch("https://customerrest.herokuapp.com/api/customers/").then((function(e){return e.json()})).then((function(e){return c(e.content)})).catch((function(e){return console.error(e)}))};Object(r.useEffect)((function(){S()}),[]);var S=function(){fetch("https://customerrest.herokuapp.com/api/trainings").then((function(e){return e.json()})).then((function(e){return u(e)})).catch((function(e){return console.error(e)}))},k=function(e,t){window.confirm("You really want to update?")&&fetch(e.links[0].href,{method:"PUT",headers:{"Content-type":"application/json"},body:JSON.stringify(t)}).then((function(e){return x.current.refreshCells({rowNodes:w()})})).then((function(e){return v("Updated!!!")})).then((function(e){return b(!0)})).catch((function(e){return console.error(e)}))},D=function(e){window.confirm("You really want to add?")&&fetch("https://customerrest.herokuapp.com/api/trainings",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(e)}).then((function(e){return x.current.refreshCells({rowNodes:S()})})).then((function(e){return v("Training added!!!")})).then((function(e){return b(!0)})).catch((function(e){return console.error(e)}))},W=[{headerName:"",width:170,cellRendererFramework:function(e){return Object(a.jsx)(N,{addTraining:D,training:e.data})}},{headerName:"First name",field:"firstname",sortable:!0,filter:!0},{headerName:"Last name",field:"lastname",sortable:!0,filter:!0},{headerName:"Street address",field:"streetaddress",sortable:!0,filter:!0},{headerName:"Postcode",field:"postcode",sortable:!0,filter:!0},{headerName:"City",field:"city",sortable:!0,filter:!0},{headerName:"Email",field:"email",sortable:!0,filter:!0},{headerName:"Phone",field:"phone",sortable:!0,filter:!0},{headerName:"",width:90,cellRendererFramework:function(e){return Object(a.jsx)(y,{updateCustomer:k,customer:e.data})}},{headerName:"",width:90,cellRendererFramework:function(e){return Object(a.jsx)(j.a,{color:"secondary",size:"small",onClick:function(){return t=e.data,void(window.confirm("You really want to delete?")&&fetch(t.links[0].href,{method:"DELETE"}).then((function(e){return x.current.refreshCells({rowNodes:w()})})).then((function(e){return v("Deleted!!!")})).then((function(e){return b(!0)})).catch((function(e){return console.error(e)})));var t},children:"Delete"})}}];return Object(a.jsxs)("div",{children:[Object(a.jsx)(C,{addCustomer:function(e){fetch("https://customerrest.herokuapp.com/api/customers/",{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(e)}).then((function(e){return x.current.refreshCells({rowNodes:w()})})).then((function(e){return v("Added succesfully!")})).then((function(e){return b(!0)})).catch((function(e){return console.error(e)}))}}),Object(a.jsxs)("div",{className:"ag-theme-material",style:{height:"700px",width:"90%",margin:"auto"},children:[Object(a.jsx)(l.AgGridReact,{ref:x,suppressCellSelection:!0,onGridReady:function(e){x.current=e.api},columnDefs:W,rowData:n,pagination:!0,paginationPageSize:10,animateRows:!0}),Object(a.jsx)(h.a,{open:f,autoHideDuration:3e3,onClose:function(){b(!1)},message:p})]})]})},W=n(68);n(121);var E=function(){var e=Object(W.b)(d.a),t=Object(r.useState)([]),n=Object(s.a)(t,2),c=n[0],i=n[1];Object(r.useEffect)((function(){o()}));var o=function(){fetch("https://customerrest.herokuapp.com/gettrainings").then((function(e){return e.json()})).then((function(e){return i(e.map((function(e){return{title:e.activity+" / "+e.customer.firstname+" "+e.customer.lastname+" "+e.duration+"min",start:d.a.utc(e.date)._d,end:d.a.utc(e.date).add(e.duration,"minutes")._d,resource:e.customer.id}})))})).catch((function(e){return console.error(e)}))};return Object(a.jsx)("div",{className:"TrainingsCalendar",children:Object(a.jsx)(W.a,{localizer:e,defaultDate:new Date,defaultView:"month",events:c,resourceAccessor:"resource",startAccessor:"start",endAccessor:"end",style:{height:"75vh"}})})},P=n(167),F=n(166),T=n(124),A=n(172),R=n(168);var L=function(){var e=Object(r.useState)(""),t=Object(s.a)(e,2),n=t[0],c=t[1];return Object(a.jsxs)("div",{className:"App",children:[Object(a.jsxs)(P.a,{position:"sticky",children:[Object(a.jsx)(F.a,{children:Object(a.jsx)(T.a,{variant:"h4",children:"Personal Trainer App"})}),Object(a.jsxs)(A.a,{value:n,onChange:function(e,t){c(t)},centered:!0,children:[Object(a.jsx)(R.a,{value:"customers",label:"Customer"}),Object(a.jsx)(R.a,{value:"trainings",label:"Trainings"}),Object(a.jsx)(R.a,{value:"calendar",label:"Calendar"})]})]}),"customers"===n&&Object(a.jsx)("div",{children:Object(a.jsx)(D,{})}),"trainings"===n&&Object(a.jsx)("div",{children:Object(a.jsx)(m,{})}),"calendar"===n&&Object(a.jsx)("div",{children:Object(a.jsx)(E,{})})]})},Y=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,176)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))};o.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(L,{})}),document.getElementById("root")),Y()}},[[122,1,2]]]);
//# sourceMappingURL=main.91c486a9.chunk.js.map